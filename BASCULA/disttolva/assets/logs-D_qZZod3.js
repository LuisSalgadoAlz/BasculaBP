import{r as t,j as e,n as j,h as z,D as E,E as L,w as P,x as R,G as k,y as A,H as B,B as T,N as D}from"./index-DqpGZtZS.js";import{b,c as H,d as U,e as I}from"./tables-DueWUWbv.js";import{P as q}from"./buttons-DpToUdmo.js";import"./regex-DItgc77W.js";const m=({icon:n,title:a,value:c,color:i})=>e.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-6 transition-all duration-300 hover:shadow-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`p-3 rounded-full ${i} mr-4`,children:n}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:a}),e.jsx("h4",{className:"text-2xl font-bold text-gray-800",children:c})]})]})}),M=()=>{const n={categoria:"",user:"",search:"",date:""},[a,c]=t.useState(),[i,p]=t.useState(),[G,v]=t.useState(!1),[N,u]=t.useState(!0),[d,y]=t.useState({logs:0,completos:0,advertencia:0,errores:0}),[s,h]=t.useState(n),[r,g]=t.useState(1),f=o=>{if(r>0){const l=r+o;if(l==0||l>a.pagination.totalPages)return;g(l)}},w=()=>{g(1)};t.useEffect(()=>{b(c,u,"","","",r,""),H(y,v),U(p)},[]),t.useEffect(()=>{b(c,u,s==null?void 0:s.categoria,s==null?void 0:s.user,s==null?void 0:s.search,r,s==null?void 0:s.date)},[s==null?void 0:s.categoria,s==null?void 0:s.user,s==null?void 0:s.search,r,s==null?void 0:s.date]);const x=o=>{const{name:l,value:F}=o.target;h(C=>({...C,[l]:F})),w()},S=()=>{h(n)};return e.jsx("div",{className:"min-h-screen",children:e.jsxs("div",{className:"mx-auto",children:[e.jsx("div",{className:"flex justify-between w-full gap-5 max-sm:flex-col max-md:flex-col mb-4",children:e.jsxs("div",{className:"parte-izq",children:[e.jsx("h1",{className:"text-3xl font-bold titulo",children:"Registros: Logs"}),e.jsxs("h1",{className:"text-gray-600 max-sm:text-sm",children:[" ","Sistema de monitoreo de los logs de usuarios de la Báscula"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-3",children:[e.jsx(m,{icon:e.jsx(j,{size:24,className:"text-white"}),title:"Logs",value:d.logs,color:"bg-blue-500"}),e.jsx(m,{icon:e.jsx(z,{size:24,className:"text-white"}),title:"Completados",value:d.completos,color:"bg-amber-500"}),e.jsx(m,{icon:e.jsx(E,{size:24,className:"text-white"}),title:"Advertencias",value:d.advertencia,color:"bg-yellow-500"}),e.jsx(m,{icon:e.jsx(L,{size:24,className:"text-white"}),title:"Errores",value:d.errores,color:"bg-red-500"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-3 border border-gray-200",children:e.jsxs("div",{className:"flex flex-col space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Filtros"}),e.jsxs("button",{className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors",onClick:S,children:[e.jsx(P,{size:16,className:"mr-1"}),e.jsx("span",{className:"text-sm",children:"Restablecer"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx(R,{size:18,className:"text-gray-400"})}),e.jsx("input",{type:"text",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5",placeholder:"Buscar...",name:"search",onChange:x,value:s==null?void 0:s.search})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx(k,{size:18,className:"text-gray-400"})}),e.jsxs("select",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5",name:"user",onChange:x,value:s==null?void 0:s.user,children:[e.jsx("option",{value:"",children:"Todos los usuarios"}),i==null?void 0:i.map((o,l)=>e.jsx("option",{value:o.usuario,children:o.usuario},l))]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx(j,{size:18,className:"text-gray-400"})}),e.jsxs("select",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5",onChange:x,name:"date",value:s==null?void 0:s.date,children:[e.jsx("option",{value:"",children:"Seleccione una fecha"}),e.jsx("option",{value:"today",children:"Hoy"}),e.jsx("option",{value:"yesterday",children:"Ayer"}),e.jsx("option",{value:"last7days",children:"Últimos 7 días"}),e.jsx("option",{value:"last30days",children:"Últimos 30 días"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx(A,{size:18,className:"text-gray-400"})}),e.jsxs("select",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5",onChange:x,name:"categoria",value:s==null?void 0:s.categoria,children:[e.jsx("option",{value:"",children:"Todos los estados"}),e.jsx("option",{value:1,children:"Completos"}),e.jsx("option",{value:2,children:"Advertencia"}),e.jsx("option",{value:3,children:"Errores"})]})]})]})]})}),e.jsxs("div",{className:"bg-white shadow-md rounded-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Historial de Logs"}),e.jsxs("button",{className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx(B,{size:18,className:"mr-2"}),"Exportar"]})]}),e.jsx("div",{className:"p-6 max-h-[400px!important] overflow-auto body-components",children:N&&!a?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(T,{})}):!a||(a==null?void 0:a.data.length)===0?e.jsx("div",{className:"py-12",children:e.jsx(D,{})}):e.jsx(I,{datos:a==null?void 0:a.data})}),e.jsx("div",{className:"p-4 border-t-2 border-gray-300",children:a&&a.pagination.totalPages>1&&e.jsx(q,{pg:r,sp:g,hp:f,dt:a})})]})]})})};export{M as default};
