import{r as e,j as s,S as q,N as z,A as G,C as H}from"./index-DqpGZtZS.js";import{C as y}from"./card-header-DbjG0--J.js";import{B as N,P as L}from"./buttons-DpToUdmo.js";import{g as J,a as Q,T as U,M as W,v as X,p as Y}from"./modal-CYyHPdiv.js";import"./index-CWU1N5XH.js";import"./boletas-CuDdO80P.js";import"./react-select.esm-DAYL3PhH.js";import"./index-BQG4GO_-.js";import"./regex-DItgc77W.js";const Z=({sts:r})=>{const[i,d]=e.useState(!1),[g,x]=e.useState(""),[w,u]=e.useState(!1),[C,h]=e.useState(!1),[c,f]=e.useState({nombre:"",email:"",telefono:"",descripcion:"",idSocios:""}),[t,D]=e.useState(),[n,l]=e.useState(1),[j,M]=e.useState(""),[S,v]=e.useState(),[P,A]=e.useState(!1),T=()=>{m(),d(!1)},F=()=>{m(),d(!0)},B=o=>{const{name:a,value:V}=o.target;f(k=>({...k,[a]:V}))},m=()=>{f({nombre:"",email:"",telefono:"",descripcion:"",idSocios:""})},I=async()=>{X(u,c,x)&&(await Y(c),d(!1),x("agregar nueva empresa"),h(!0),p(),m())},O=o=>{const{value:a}=o.target;M(a)},R=o=>{const{value:a}=o.target;if(l(1),a==-1){v("");return}v(a)},K=o=>{if(n>0){const a=n+o;if(a==0||a>t.pagination.totalPages)return;l(a)}},b=()=>{l(1)},E=()=>{u(!1),h(!1)},p=e.useCallback(()=>{J(D,n,j,S,A),Q(r)},[j,S,n]);return e.useEffect(()=>{p()},[p]),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"filtros grid grid-rows-1 grid-cols-12 grid-flow-col gap-1.5 max-sm:grid-rows-2 max-sm:grid-cols-2",children:[s.jsx("input",{className:"p-2.5 text-sm font-medium text-gray-600  rounded-lg border border-gray-200 col-span-full",type:"text",placeholder:"Buscar empresa por nombre...",onChange:O,onKeyDown:b}),s.jsxs("select",{className:"py-2.5 px-4 text-sm font-medium text-gray-600  rounded-lg border border-gray-200 max-sm:hidden max-md:hidden",onKeyDown:b,onChange:R,children:[s.jsx("option",{value:-1,children:"Estado empresa (todos)"}),s.jsx("option",{value:"inactiva",children:"Inactiva"}),s.jsx("option",{value:"activa",children:"Activa"})]}),s.jsx(N,{name:"Exportar"}),s.jsx(N,{name:"Agregar",fun:F})]}),s.jsxs("div",{className:"mt-7 text-center",children:[P&&!t?s.jsx(q,{}):!t||t.data.length==0?s.jsx(z,{}):s.jsx(U,{datos:t.data}),s.jsx("hr",{className:"text-gray-200 mt-7 mb-4"}),t&&t.pagination.totalPages>1&&s.jsx(L,{pg:n,sp:l,hp:K,dt:t})]}),i&&s.jsx(W,{hdlData:B,hdlSubmit:I,tglModal:T,frDta:c}),w&&s.jsx(G,{name:g,hdClose:E}),C&&s.jsx(H,{name:g,hdClose:E})]})},ls=()=>{const[r,i]=e.useState();return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex justify-between w-full gap-5",children:s.jsxs("div",{className:"parte-izq",children:[s.jsx("h1",{className:"text-3xl font-bold titulo",children:"Empresas de Transporte"}),s.jsxs("h1",{className:"text-gray-600",children:[" ","Gestiona las empresas de transporte registradas en el sistema."]})]})}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-2 mt-5",children:[s.jsx(y,{data:r&&r.totalEmpresas,name:"Total de empresas",title:"Empresa"}),s.jsx(y,{data:r&&r.totalActivas,name:"Total de activas",title:"Activas"})]}),s.jsx("div",{className:"mt-6 bg-white shadow rounded-lg px-6 py-7 border border-gray-300",children:s.jsx(Z,{sts:i})})]})};export{ls as default};
