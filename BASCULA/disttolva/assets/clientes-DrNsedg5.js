import{r as s,j as e,S as J,N as Q,C as U,A as W}from"./index-DqpGZtZS.js";import{C as u}from"./card-header-DbjG0--J.js";import{B as N,P as X}from"./buttons-DpToUdmo.js";import{g as Y,a as w,T as Z,M as _,v as $,p as ee}from"./modal-DhQZpdrK.js";import"./index-CWU1N5XH.js";import"./regex-DItgc77W.js";import"./boletas-CuDdO80P.js";const te=({sts:a})=>{const[i,D]=s.useState(!1),[r,l]=s.useState(1),[h,f]=s.useState(),[j,v]=s.useState(),[S,E]=s.useState(""),[P,d]=s.useState(!1),[C,y]=s.useState({nombre:"",tipo:-1,correo:"",telefono:"",estado:1}),[n,T]=s.useState(),[A,c]=s.useState(),[M,b]=s.useState(),[F,m]=s.useState(),g=()=>{y({nombre:"",tipo:-1,correo:"",telefono:"",estado:1})},B=()=>{d(!0),g()},I=()=>{d(!1),g()},K=o=>{const{name:t,value:H}=o.target;y(L=>({...L,[t]:H}))},O=async()=>{if($(c,m,C,b)){const t=await ee(C);if(!t.msgErr){d(!1),p(),w(a),c(!0);return}b(t.msgErr),m(!0)}},R=()=>{m(!1)},V=()=>{g(),c(!1)},k=o=>{if(r>0){const t=r+o;if(t==0||t>n.pagination.totalPages)return;l(t)}},x=()=>{l(1)},q=o=>{const{value:t}=o.target;E(t)},z=o=>{const{value:t}=o.target;if(l(1),t==-1){f("");return}f(t)},G=o=>{const{value:t}=o.target;if(l(1),t==-1){v("");return}v(t)},p=s.useCallback(()=>{Y(T,r,S,h,j,D),w(a)},[r,S,h,j]);return s.useEffect(()=>{p()},[p]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filtros grid grid-rows-1 grid-cols-12 grid-flow-col gap-1.5 max-sm:grid-rows-2 max-sm:grid-cols-2",children:[e.jsx("input",{className:"p-2.5 text-sm font-medium text-gray-600  rounded-lg border border-gray-200 col-span-full",type:"text",placeholder:"Buscar socios por nombre....",onChange:q,onKeyDown:x}),e.jsxs("select",{className:"py-2.5 px-4 text-sm font-medium text-gray-600  rounded-lg border border-gray-200 max-sm:hidden max-md:hidden max-lg:hidden",onKeyDown:x,onChange:G,children:[e.jsx("option",{value:-1,children:"Estado de socio (todos)"}),e.jsx("option",{value:"inactiva",children:"Inactivo"}),e.jsx("option",{value:"activa",children:"Activo"})]}),e.jsxs("select",{className:"py-2.5 px-4 text-sm font-medium text-gray-600  rounded-lg border border-gray-200 max-sm:hidden max-md:hidden ",onKeyDown:x,onChange:z,children:[e.jsx("option",{value:-1,children:"Tipos de socio (todos)"}),e.jsx("option",{value:0,children:"Proveedor"}),e.jsx("option",{value:1,children:"Cliente"})]}),e.jsx(N,{name:"Exportar"}),e.jsx(N,{name:"Agregar",fun:B})]}),e.jsxs("div",{className:"mt-7 text-center",children:[i&&!n?e.jsx(J,{}):!n||n.data.length==0?e.jsx(Q,{}):e.jsx(Z,{datos:n.data}),e.jsx("hr",{className:"text-gray-200 mt-7 mb-4"}),n&&n.pagination.totalPages>1&&e.jsx(X,{pg:r,sp:l,hp:k,dt:n})]}),P&&e.jsx(_,{hdlData:K,hdlSubmit:O,tglModal:I}),A&&e.jsx(U,{name:"agregar el socio",hdClose:V}),F&&e.jsx(W,{name:M,hdClose:R})]})},de=()=>{const[a,i]=s.useState();return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between w-full gap-5",children:e.jsxs("div",{className:"parte-izq",children:[e.jsx("h1",{className:"text-3xl font-bold titulo",children:"Socios de Baprosa"}),e.jsxs("h1",{className:"text-gray-600",children:[" ","Gestiona los proveedores y clientes registrados en el sistema"]})]})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3 lg:grid-cols-3 mt-5",children:[e.jsx(u,{data:a?a.totales+" / "+a.totalSocios:"",name:"Total de socios (activos / totales)",title:"Socios"}),e.jsx(u,{data:a?a.ActivosProveedores+" / "+a.totalProveedores:"",name:"Total de proveedores (activos / totales)",title:"Proveedores"}),e.jsx(u,{data:a?a.ActivosClientes+" / "+a.totalClientes:"",name:"Total de clientes (activos / totales)",title:"Clientes"})]}),e.jsx("div",{className:"mt-6 bg-white shadow rounded-lg px-6 py-7 border border-gray-300",children:e.jsx(te,{sts:i})})]})};export{de as default};
