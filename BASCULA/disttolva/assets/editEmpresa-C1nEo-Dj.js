import{ao as Se,Q as Ne,r as s,j as e,S as G,N as T,A as Ve,C as be,ap as Ee,aq as ye}from"./index-DqpGZtZS.js";import{g as Ce,h as De,B}from"./buttons-DpToUdmo.js";import{c as p,q as we,a as qe}from"./boletas-CuDdO80P.js";import{b as Ae,c as Fe,d as Pe,e as ke,S as Ie,f as Le,h as ze,i as Ge,j as Te,k as Be,l as He,v as Ue,u as Qe,m as H,n as U,o as Re,q as Je,r as Q,s as Ke,t as Oe}from"./modal-CYyHPdiv.js";import"./index-CWU1N5XH.js";import"./react-select.esm-DAYL3PhH.js";import"./index-BQG4GO_-.js";import"./regex-DItgc77W.js";const as=()=>{const{id:l}=Se(),R=Ne(),J=()=>{R(-1)},[w,K]=s.useState(),[O,i]=s.useState(),[W,d]=s.useState(),[X,Y]=s.useState(!1),[Z,_]=s.useState(!1),[f,t]=s.useState(),[g,$]=s.useState(),[ee,v]=s.useState(),[se,S]=s.useState(),[ae,N]=s.useState(),[te,V]=s.useState(),[j,oe]=s.useState(),[le,b]=s.useState(),[ie,E]=s.useState(),[h,y]=s.useState({nombre:"",telefono:"",correo:"",id:l}),[q,re]=s.useState(),[r,C]=s.useState({placa:"",modelo:"",marca:"",tipo:-1,pesoMaximo:"",estado:!0,id:l}),[n,A]=s.useState({nombre:"",email:"",telefono:"",descripcion:"",estado:"",idSocios:""}),m=o=>{const{name:a,value:c}=o.target;A(x=>({...x,[a]:c}))},ce=()=>{Ue(i,n,t)&&(Qe(n,l),d(!0),t("modificar empresa."))},ne=()=>{i(!1)},de=()=>{d(!1)},me=()=>{v(!0)},M=()=>{C({placa:"",modelo:"",marca:"",tipo:-1,pesoMaximo:"",estado:!0,id:l})},ue=()=>{M(),v(!1)},F=o=>{const{name:a,value:c}=o.target;C(x=>({...x,[a]:c}))},he=async()=>{if(H(i,r,t)){const{msgList:a,existHere:c}=await U(r.placa,l);if(c){t("placa ya existe en esta empresa."),i(!0);return}if(!a){P();return}t(a),N(!0)}},P=async()=>{await Je(r),t("agregar vehiculos"),d(!0),v(!1),u(),N(!1),M()},k=async()=>{await Re(r,l),u(),t("modificar vehiculo"),V(!1),S(!1),M(),d(!0)},I=()=>{N(!1),V(!1)},xe=o=>{C(o),re(o.placa),S(!0)},pe=()=>{S(!1),M()},fe=async()=>{if(H(i,r,t)){const{msgList:a,existHere:c}=await U(r.placa,l);if(c&&r.placa!=q){t("placa ya existe en esta empresa."),i(!0);return}if(a&&r.placa!=q){t(a),V(!0);return}k();return}},ge=()=>{b(!0)},D=()=>{y({nombre:"",telefono:"",correo:"",id:l})},L=o=>{const{name:a,value:c}=o.target;y(x=>({...x,[a]:c}))},z=()=>{b(!1),E(!1),D()},je=async()=>{if(Q(i,h,t)){const{msgErr:a}=await Ke(h);if(!a){u(),b(!1),D(),t("agregar motorista"),d(!0);return}t(a),i(!0)}},Me=o=>{y(o),E(!0)},ve=async()=>{if(Q(i,h,t)){const{msgErr:a}=await Oe(h,l);if(!a){t("modificar usuario"),d(!0),D(),E(!1),u();return}t(a),i(!0)}},u=s.useCallback(()=>{Ae($,l,_),Fe(oe,l,Y),Pe(A,l),ke(K)},[]);return s.useEffect(()=>{u()},[u]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-6 bg-white shadow rounded-xl px-6 py-7",children:[e.jsxs("div",{className:"flex justify-between w-full gap-5 max-sm:flex-col",children:[e.jsxs("div",{className:"parte-izq",children:[e.jsx("h1",{className:"text-3xl font-bold titulo",children:"Editar Empresas"}),e.jsxs("h1",{className:"text-gray-600",children:[" ","Edita informaciÃ³n bÃ¡sica de la empresas."," "]})]}),e.jsx("div",{className:"parte-der flex items-center justify-center gap-3",children:e.jsx(Ce,{name:"Volver",fun:J})})]}),e.jsxs("div",{className:"container grid grid-cols-2 gap-2 max-md:grid-cols-1",children:[e.jsxs("div",{className:"mt-5",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Nombre:"}),e.jsx("input",{type:"text",name:"nombre",className:p,placeholder:"Ingrese Nombre",onChange:m,value:n.nombre,required:!0})]}),e.jsxs("div",{className:"mt-5",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Email:"}),e.jsx("input",{type:"text",name:"email",className:p,placeholder:"Ingrese email",onChange:m,value:n.email,required:!0})]}),e.jsxs("div",{className:"mt-5",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Telefono:"}),e.jsx("input",{type:"text",name:"telefono",className:p,placeholder:"Ingrese teelefono",onChange:m,value:n.telefono,required:!0})]}),e.jsxs("div",{className:"mt-5",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Descripcion:"}),e.jsx("input",{type:"text",name:"descripcion",className:p,placeholder:"Ingrese descripcion",onChange:m,value:n.descripcion,required:!0})]}),e.jsxs("div",{className:"mt-5",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Estado:"}),e.jsxs("select",{name:"estado",className:p,onChange:m,value:n.estado,children:[e.jsx("option",{value:-1,className:"text-gray-400",children:"Seleccione un estado"}),e.jsx("option",{value:!1,children:"ðŸ”´ Desactivada"}),e.jsx("option",{value:!0,children:"ðŸŸ¢ Activada"})]})]}),e.jsx("div",{className:"mt-5",children:e.jsx(Ie,{classCss:qe,name:"idSocios",data:w||we,fun:m,val:n.idSocios})})]}),e.jsx("div",{className:"mt-7 place-self-end max-sm:place-self-center",children:e.jsx(De,{name:"Guardar Cambios",fun:ce})}),e.jsx("hr",{className:"text-gray-400 mt-7"}),e.jsxs("div",{className:"flex justify-between w-full gap-5 mt-7 max-sm:flex-col",children:[e.jsxs("div",{className:"parte-izq",children:[e.jsx("h1",{className:"text-3xl font-bold titulo",children:"Agregar Vehiculos"}),e.jsxs("h1",{className:"text-gray-600",children:[" ","Gestion de placas con las que cuenta la empresa."]})]}),e.jsx("div",{className:"parte-izq max-sm:place-self-center",children:e.jsx(B,{name:"Agregar Vehiculos",fun:me})})]}),e.jsx("div",{className:"gap-5 mt-7",children:Z&&!g?e.jsx(G,{}):!g||g.length==[]?e.jsx(T,{}):e.jsx(Le,{datos:g,fun:xe})}),e.jsx("hr",{className:"text-gray-400 mt-7"}),e.jsxs("div",{className:"flex justify-between w-full gap-5 mt-7 max-sm:flex-col",children:[e.jsxs("div",{className:"parte-izq",children:[e.jsx("h1",{className:"text-3xl font-bold titulo",children:"Agregar Motorista"}),e.jsxs("h1",{className:"text-gray-600",children:[" ","Gestion de motoristas de la empresa."]})]}),e.jsx("div",{className:"parte-izq max-sm:place-self-center",children:e.jsx(B,{name:"Agregar Motoristas",fun:ge})})]}),e.jsx("div",{className:"gap-5 mt-7",children:X&&!j?e.jsx(G,{}):!j||j.length==[]?e.jsx(T,{}):e.jsx(ze,{datos:j,fun:Me})}),e.jsx("hr",{className:"text-gray-400 mt-7"})]}),O&&e.jsx(Ve,{name:f,hdClose:ne}),W&&e.jsx(be,{name:f,hdClose:de}),ee&&e.jsx(Ge,{tglModal:ue,hdlData:F,hdlSubmit:he}),te&&e.jsx(Ee,{name:f,hdClose:I,hdlSubmit:k}),ae&&e.jsx(ye,{name:f,hdClose:I,hdlSubmit:P}),se&&e.jsx(Te,{hdlSubmit:fe,hdlData:F,frDta:r,tglModal:pe}),le&&e.jsx(Be,{hdlData:L,tglModal:z,hdlSubmit:je}),ie&&e.jsx(He,{hdlData:L,tglModal:z,hdlSubmit:ve,frDta:h})]})};export{as as default};
