import{r as a,j as s,J as T,K as I,L as U}from"./index-DqpGZtZS.js";import{f as $,h as A,e as E}from"./tables-DueWUWbv.js";import{a as P,b as G}from"./index-CWU1N5XH.js";import"./regex-DItgc77W.js";const J=()=>{var i,m,x,c,u,h,b,j,g,f,y,N,p,v,w,z;const[t,n]=a.useState(!1),[l,r]=a.useState(!1),[o,S]=a.useState(),[e,D]=a.useState(),[L,M]=a.useState(new Date().toLocaleString());a.useEffect(()=>{d();const C=setInterval(d,3e4);return()=>clearInterval(C)},[]);const d=()=>{n(!0),r(!0),Promise.all([$(D,n),A(S,r)]).then(()=>{M(new Date().toLocaleString())})},B=()=>{d()};return s.jsxs("div",{className:"min-h-screen",children:[s.jsxs("div",{className:"flex justify-between w-full gap-5 max-sm:flex-col max-md:flex-col mb-4",children:[s.jsxs("div",{className:"parte-izq",children:[s.jsx("h1",{className:"text-3xl font-bold titulo",children:"Boletas"}),s.jsxs("h1",{className:"text-gray-600 max-sm:text-sm",children:[" ","Generación y visualización de las boletas de Báscula"]})]}),s.jsx("div",{className:"parte-der flex items-center justify-center gap-3 max-sm:text-sm max-sm:flex-col",children:s.jsxs("button",{onClick:B,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-all duration-200",disabled:t||l,children:[s.jsx(T,{className:`${t||l?"animate-spin":""}`}),t||l?"Actualizando...":"Actualizar"]})})]}),s.jsxs("div",{className:"mt-6 rounded-2xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center text-gray-600",children:[s.jsx(P,{className:"mr-2",size:24}),"Estado del API"]}),s.jsxs("span",{className:"text-sm font-medium text-gray-500 flex items-center",children:[s.jsx("span",{className:"mr-2",children:"Última actualización:"}),s.jsx("span",{className:"py-1 px-3 rounded-full",children:L})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(I,{className:"text-blue-600",size:24})}),s.jsx("h3",{className:"ml-3 font-semibold text-lg text-gray-800",children:"CPU"})]}),s.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[(i=e==null?void 0:e.cpu)==null?void 0:i.usage,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-100 rounded-full h-3 mb-2",children:s.jsx("div",{className:`h-3 rounded-full ${((m=e==null?void 0:e.cpu)==null?void 0:m.usage)>80?"bg-red-500":((x=e==null?void 0:e.cpu)==null?void 0:x.usage)>60?"bg-yellow-500":"bg-blue-500"}`,style:{width:`${((c=e==null?void 0:e.cpu)==null?void 0:c.usage)||0}%`}})}),s.jsxs("div",{className:"mt-2 text-sm text-gray-600 flex justify-between",children:[s.jsx("span",{children:"Utilización"}),s.jsxs("span",{className:"font-medium",children:[(u=e==null?void 0:e.cpu)==null?void 0:u.usage,"% usado de ",(h=e==null?void 0:e.cpu)==null?void 0:h.cores,"%"]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow duration-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(U,{className:"text-green-600",size:24})}),s.jsx("h3",{className:"ml-3 font-semibold text-lg text-gray-800",children:"Memoria"})]}),s.jsxs("span",{className:"text-2xl font-bold text-green-600",children:[(b=e==null?void 0:e.memory)!=null&&b.used&&((j=e==null?void 0:e.memory)!=null&&j.total)?Math.round(e.memory.used/e.memory.total*100):0,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-100 rounded-full h-3 mb-2",children:s.jsx("div",{className:`h-3 rounded-full ${(g=e==null?void 0:e.memory)!=null&&g.used&&((f=e==null?void 0:e.memory)!=null&&f.total)&&e.memory.used/e.memory.total*100>80?"bg-red-500":(y=e==null?void 0:e.memory)!=null&&y.used&&((N=e==null?void 0:e.memory)!=null&&N.total)&&e.memory.used/e.memory.total*100>60?"bg-yellow-500":"bg-green-500"}`,style:{width:`${(p=e==null?void 0:e.memory)!=null&&p.used&&((v=e==null?void 0:e.memory)!=null&&v.total)?e.memory.used/e.memory.total*100:0}%`}})}),s.jsxs("div",{className:"mt-2 text-sm text-gray-600 flex justify-between",children:[s.jsx("span",{children:"Utilización"}),s.jsxs("span",{className:"font-medium",children:[(w=e==null?void 0:e.memory)==null?void 0:w.used," GB usado de ",(z=e==null?void 0:e.memory)==null?void 0:z.total," ","GB"]})]})]})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center text-gray-600",children:[s.jsx(G,{className:"mr-2",size:24}),"Tablas de Base de Datos"]}),l&&s.jsx("span",{className:"text-sm text-blue-600 animate-pulse",children:"Cargando datos..."})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden p-10",children:o?s.jsx(E,{datos:o}):s.jsx("div",{className:"p-6 text-center text-gray-500",children:l?"Cargando tablas...":"No hay datos disponibles"})})]})]})]})};export{J as default};
